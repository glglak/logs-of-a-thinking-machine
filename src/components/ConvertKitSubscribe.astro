---
// Newsletter Subscribe Component using Buttondown (Free tier: 100 subscribers)
// SETUP: Replace 'logsofthinking' with your Buttondown username
// Create account at: https://buttondown.email
const BUTTONDOWN_USERNAME = "logsofthinking";
---

<div class="bg-gray-50 dark:bg-gray-900 rounded-lg p-6 border border-gray-200 dark:border-gray-700">
  <h3 class="text-lg font-semibold mb-4 text-gray-900 dark:text-white">Stay Updated</h3>
  <p class="text-gray-600 dark:text-gray-300 text-sm mb-4">
    Get notified when new posts are published.
  </p>

  <!-- Buttondown Form - Better deliverability, no spam issues -->
  <form
    action={`https://buttondown.email/api/emails/embed-subscribe/${BUTTONDOWN_USERNAME}`}
    method="post"
    target="popupwindow"
    onsubmit="window.open(`https://buttondown.email/${BUTTONDOWN_USERNAME}`, 'popupwindow')"
    class="space-y-3"
  >
    <input
      type="email"
      name="email"
      placeholder="Enter your email"
      required
      class="w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"
    />
    <button
      type="submit"
      class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors duration-200 shadow-sm"
    >
      Subscribe
    </button>
  </form>
  <p class="mt-3 text-xs text-gray-500 dark:text-gray-400 text-center">
    No spam. Unsubscribe anytime.
  </p>
</div>
